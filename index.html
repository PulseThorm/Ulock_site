<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ulock Guide ‚Äî Gu√≠a (muy) seria</title>
  <meta name="description" content="Ulock Guide: gu√≠a formal√≠sima para WoW, con requisitos, rutas optimizadas, notas del autor y noticias. Todo en orden y‚Ä¶ totalmente cuestionable.">
  <meta name="theme-color" content="#8b5cf6">
  <style>
    :root{ --bg:#0b0f1e; --bg2:#0e1329; --fg:#e9e9ff; --muted:#a6a6d9; --accent:#a78bfa; --accent2:#22d3ee; --ring:rgba(167,139,250,.5); }
    *{box-sizing:border-box} html,body{height:100%}
    body{ margin:0; color:var(--fg); background:
      radial-gradient(1200px 800px at -10% -10%, #3b82f6 0%, transparent 60%),
      radial-gradient(900px 700px at 110% 10%, #a78bfa 0%, transparent 55%),
      linear-gradient(160deg, var(--bg), var(--bg2) 60%);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, "Noto Color Emoji", sans-serif;
      display:flex; justify-content:center; padding:28px;}
    .wrap{width:100%; max-width:1100px}
    .topbar{display:flex; gap:12px; align-items:center; justify-content:space-between; margin-bottom:18px;}
    .brand{display:flex; gap:10px; align-items:center; font-weight:800;}
    .logo{width:42px; height:42px; border-radius:10px; background:conic-gradient(from 210deg, var(--accent2), var(--accent), #22c55e, #f43f5e, var(--accent2)); filter:drop-shadow(0 6px 18px rgba(34,211,238,.3));}
    .hero{border:1px solid rgba(255,255,255,.1); border-radius:22px; overflow:hidden; box-shadow:0 30px 80px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.04)}
    .banner{position:relative; height:160px; display:flex; align-items:center; justify-content:center; background:linear-gradient(120deg, rgba(167,139,250,.25), rgba(34,211,238,.12))}
    .content{padding:22px}
    .slug{color:var(--muted); opacity:.85; font-size:.95rem}
    .subtitle{opacity:.9; margin:.4rem 0 1rem}
    .btn{appearance:none; border:1px solid rgba(255,255,255,.12); background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03)); color:var(--fg); padding:.65rem .95rem; border-radius:12px; font-weight:600; text-decoration:none; display:inline-flex; gap:8px; align-items:center}
    .btn:hover{border-color:var(--ring)}
    .grid{display:grid; grid-template-columns:1fr; gap:16px}
    @media(min-width:900px){ .grid{grid-template-columns:1fr 1fr} }
    .panel{background:rgba(0,0,0,.25); border:1px solid rgba(255,255,255,.08); border-radius:16px; padding:16px}
    .panel h3{margin:.2rem 0 .6rem; font-size:1.1rem; color:#ffe09a}
    .list{margin:.2rem 0 .6rem; padding-left:1.2rem}
    .kbd{font-family:ui-monospace,Menlo,Consolas,monospace;background:#10152a;border:1px solid rgba(255,255,255,.12);padding:.16rem .38rem;border-radius:6px}
    .news-grid{display:grid; gap:12px; grid-template-columns:1fr}
    @media(min-width:860px){ .news-grid{grid-template-columns:repeat(2,1fr)} }
    .news-card{background:rgba(0,0,0,.25); border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:14px}
    .news-meta{display:flex; gap:10px; flex-wrap:wrap; opacity:.9}
  </style>
</head>
<body>
  <div id="app" class="wrap">
    <!-- 1) ENCABEZADO SERIO + LOGO -->
    <header class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <div>Ulock Guide</div>
          <small class="muted">Gu√≠a ‚Äúseria‚Äù para World of Warcraft</small>
        </div>
      </div>
      <a class="btn" href="/news/list">üóûÔ∏è Ver todas las noticias</a>
    </header>

    <section class="hero">
      <div class="banner">
        <div style="text-align:center">
          <h1 style="margin:8px 0 0; font-size:clamp(28px,5vw,54px)">Procedimientos y Rutas Operativas</h1>
          <small class="muted">Documentaci√≥n formalizada de mejores pr√°cticas‚Ä¶ o algo as√≠.</small>
        </div>
      </div>

      <div class="content">
        <div class="slug">/{{ slug }}</div>
        <p class="subtitle">Este documento consolida requisitos previos, flujo √≥ptimo de ejecuci√≥n y notas de autor. Contiene adem√°s un plano de ruta operativo y una bit√°cora de novedades.</p>

        <!-- 2) REQUISITOS ‚Ä¢ RUTA √ìPTIMA ‚Ä¢ NOTAS DEL AUTOR -->
        <div class="grid">
          <div class="panel">
            <h3>Requisitos previos</h3>
            <ul class="list">
              <li>Nivel de preparaci√≥n: **alto** (o ganas de improvisar).</li>
              <li>Addons‚Ä¶ preferiblemente desactualizados.</li>
              <li>Conexi√≥n estable a ratos.</li>
            </ul>
            <h3>Ruta √≥ptima</h3>
            <ol class="list">
              <li>Identifica el ‚ÄúNPC responsable‚Äù.</li>
              <li>Ejecuta los pasos en orden dudoso.</li>
              <li>Si funciona, documenta; si no, finge que era un test A/B.</li>
            </ol>
          </div>

          <div class="panel">
            <h3>Notas del autor</h3>
            <ul class="list">
              <li>Si algo explota, es parte del dise√±o.</li>
              <li>No intentes esto en heroico. O s√≠, total‚Ä¶</li>
              <li>Usa <span class="kbd">/ulock "tu texto"</span> para generar el enlace compartible.</li>
            </ul>
            <p class="muted">Compatibilidad: addon UlockAnalGuide.</p>
          </div>

          <!-- 3) MAPA DETALLADO -->
          <div class="panel" style="grid-column:1/-1">
            <h3>Mapa de ruta (detalle)</h3>
            <div class="illus">
              <svg viewBox="0 0 760 260" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Ruta detallada Ulock">
                <defs>
                  <linearGradient id="rGlow" x1="0" y1="0" x2="1" y2="1">
                    <stop offset="0" stop-color="#22d3ee"/><stop offset="1" stop-color="#a78bfa"/>
                  </linearGradient>
                  <marker id="arrow" markerWidth="10" markerHeight="10" refX="6" refY="3" orient="auto">
                    <polygon points="0 0, 6 3, 0 6" fill="#a78bfa"/>
                  </marker>
                </defs>
                <rect width="760" height="260" fill="#0b1026"/>
                <g stroke="rgba(255,255,255,.08)">
                  <path d="M0 40 H760M0 80 H760M0 120 H760M0 160 H760M0 200 H760" />
                </g>
                <g fill="url(#rGlow)">
                  <circle cx="80" cy="180" r="10"/><text x="80" y="200" fill="#e9e9ff" font-size="12" text-anchor="middle">Inicio</text>
                  <circle cx="300" cy="130" r="8"/><text x="300" y="150" fill="#e9e9ff" font-size="12" text-anchor="middle">NPC Bug</text>
                  <circle cx="510" cy="90" r="8"/><text x="510" y="110" fill="#e9e9ff" font-size="12" text-anchor="middle">Portal ?</text>
                  <circle cx="680" cy="60" r="10"/><text x="680" y="80" fill="#e9e9ff" font-size="12" text-anchor="middle">Jefe</text>
                </g>
                <path d="M80 180 C 170 120, 220 160, 300 130 C 380 100, 440 110, 510 90 C 560 75, 620 70, 680 60"
                      stroke="url(#rGlow)" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
                <path d="M300 130 C 260 60, 410 50, 460 120" stroke="#a78bfa" stroke-dasharray="5 6" fill="none" opacity=".6"/>
                <path d="M510 90 C 540 140, 620 130, 680 60" stroke="#22d3ee" stroke-dasharray="5 6" fill="none" opacity=".6"/>
                <g>
                  <rect x="16" y="16" width="190" height="64" rx="10" fill="rgba(0,0,0,.35)" stroke="rgba(255,255,255,.12)"/>
                  <circle cx="32" cy="36" r="5" fill="url(#rGlow)"/>
                  <text x="48" y="40" fill="#e9e9ff" font-size="12">Ruta principal</text>
                  <line x1="26" y1="56" x2="38" y2="56" stroke="#a78bfa" stroke-dasharray="5 6"/>
                  <text x="48" y="60" fill="#e9e9ff" font-size="12">Atajo (probablemente fake)</text>
                </g>
              </svg>
            </div>
          </div>
        </div>

        <!-- 4) NOTICIAS (snippet aleatorio + link a lista) -->
        <div class="panel">
          <h3>Noticias Ulock</h3>
          <div id="newsContainer">Cargando noticias‚Ä¶</div>
          <div style="margin-top:10px"><a class="btn" href="/news/list">üìö Ver grilla y filtros</a></div>
        </div>
      </div>
    </section>
  </div>

  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
  <script type="module">
    import { initNews, renderNewsInto, maybeRenderArticleOrList } from '/news/news.js';

    const app = Vue.createApp({
      data(){ 
        const pathRaw = decodeURIComponent(location.pathname.replace(/^\/+/, ''));
        return { slug: pathRaw || '' };
      }
    });
    app.mount('#app');

    // En home: snippet aleatorio. En /news/:id o /news/list: el m√≥dulo se hace cargo.
    await initNews('/news/news_bank.json');
    if (!location.pathname.startsWith('/news/')) {
      await renderNewsInto('#newsContainer');
    } else {
      await maybeRenderArticleOrList('#newsContainer'); // por si se entra directo a /news/*
    }
  </script>
</body>
</html>
